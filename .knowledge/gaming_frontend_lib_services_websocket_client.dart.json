{"is_source_file": true, "format": "Dart", "description": "This file defines a WebSocket client class 'WsClient' for a Flutter application. It provides functionality for establishing, maintaining, and reconnecting WebSocket connections with auto-reconnect, heartbeat pings, and external callbacks for message, connection, and error events. It uses environment variables for configuration and leverages the web_socket_channel package.", "external_files": ["dart:async", "dart:convert", "package:flutter/foundation.dart", "package:flutter_dotenv/flutter_dotenv.dart", "package:web_socket_channel/web_socket_channel.dart", "package:web_socket_channel/status.dart"], "external_methods": ["jsonEncode", "WebSocketChannel.connect", "Status.goingAway"], "published": ["WsClient"], "classes": [{"name": "WsClient", "description": "A lightweight, auto-reconnecting WebSocket client with heartbeat and fallback mechanisms, designed for Flutter applications."}], "methods": [{"name": "WsClient", "description": "Constructor to create a WebSocket client with specified path and optional heartbeat and reconnect delays."}, {"name": "connect", "description": "Initiates the WebSocket connection and resets the auto-reconnect logic."}, {"name": "sendJson", "description": "Sends a JSON-encoded message over the WebSocket connection."}, {"name": "close", "description": "Closes the WebSocket connection and cancels ongoing reconnect or heartbeat timers."}], "calls": ["Uri.parse", "WebSocketChannel.connect", "jsonEncode", "Timer.periodic", "_handleError", "_scheduleReconnect", "_stopHeartbeat", "_disposeChannel"], "search-terms": ["websocket Flutter", "auto-reconnect", "heartbeat timer", "WebSocketChannel", "ws URL builder", "config environment variables"], "state": 2, "file_id": 38, "knowledge_revision": 115, "git_revision": "", "hash": "25b22af51628ee1ba24f1b2f4fdfbdb6", "format-version": 4, "code-base-name": "gaming_frontend", "filename": "gaming_frontend/lib/services/websocket_client.dart", "revision_history": [{"115": ""}]}